<html>
    <head>
        <title>Test Page</title>
    </head>
    <body>
        <div id = "console">
        </div>
        <script type = "text/javascript" src = "../trialtool/lib/jquery/jquery-1.4.2.min.js">
        </script>
        <script type = "text/javascript" src = "../trialtool/js/ConsoleHelper.js">
        </script>
        <script type = "text/javascript">
            /*Pre Requisites*/
            
            window.indexedDB = window.moz_indexedDB;
            var DAO = {};
            
            document.write("Trying to open database ...");
            var request = window.indexedDB.open("BookShop", "My Book Shop Database");
            request.onsuccess = function(event){
                document.write("Dataase opened");
                DAO.db = event.result;
                
                DAO.transaction = DAO.db.transaction(["BookList"], 0);
                DAO.objectStore = DAO.transaction.objectStore("BookList");
                var request = DAO.objectStore.openCursor();
                request.onsuccess = function(event){
                    DAO.cursor = event.result;
                    write(DAO.cursor.key, DAO.cursor.value, request.onsuccess);
                    write(DAO.cursor["continue"]());
                };
                request.onerror = function(event){
                    write("Could not open cursor", DAO.cursor);
                    writeError(e);
                };
            };
        </script>
    </body>
</html>
